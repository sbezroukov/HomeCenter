# Интерфейс приложения

## Главное окно

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ HomeCenter Database Backup Manager                                      [_][□][X] │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─ Настройки Docker ──────────────────────────────────────────────────────┐ │
│ │                                                                          │ │
│ │  Имя контейнера:  [homecenter              ]                            │ │
│ │                                                                          │ │
│ │  Путь к БД:       [/app/data/quiz.db                    ]               │ │
│ │                                                                          │ │
│ │  Папка бэкапов:   C:\...\HomeCenterBackup\backups                       │ │
│ │                                                                          │ │
│ └──────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ┌─ Создание бэкапа ────────────┐  ┌─ Восстановление из бэкапа ──────────┐ │
│ │                               │  │                                      │ │
│ │  [ Создать бэкап ]            │  │  [quiz-20240214-153045.db (256 KB) ▼] │ │
│ │                               │  │                                      │ │
│ │  Создаст бэкап базы данных    │  │  [ Восстановить ]                   │ │
│ │  с текущей датой и временем   │  │                                      │ │
│ │                               │  │                                      │ │
│ └───────────────────────────────┘  └──────────────────────────────────────┘ │
│                                                                             │
│ ┌─ Управление бэкапами ───────────────────────────────────────────────────┐ │
│ │                                                                          │ │
│ │  ┌────────────────────────────────────────────────────────────────────┐ │ │
│ │  │ Имя файла              │ Размер │ Создан              │ Возраст    │ │ │
│ │  ├────────────────────────────────────────────────────────────────────┤ │ │
│ │  │ quiz-20240214-153045.db│ 256 KB │ 2024-02-14 15:30:45 │ 2 часа назад│ │ │
│ │  │ quiz-20240214-120000.db│ 254 KB │ 2024-02-14 12:00:00 │ 5 часов назад│ │ │
│ │  │ quiz-20240213-020000.db│ 248 KB │ 2024-02-13 02:00:00 │ 1 день назад│ │ │
│ │  │ quiz-20240212-020000.db│ 245 KB │ 2024-02-12 02:00:00 │ 2 дня назад │ │ │
│ │  │ quiz-20240211-020000.db│ 240 KB │ 2024-02-11 02:00:00 │ 3 дня назад │ │ │
│ │  └────────────────────────────────────────────────────────────────────┘ │ │
│ │                                                                          │ │
│ │  [ Обновить ] [ Удалить выбранный ] [ Очистить старые (>30 дней) ]     │ │
│ │                                                                          │ │
│ └──────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ Лог операций:                                                               │
│ ┌───────────────────────────────────────────────────────────────────────┐   │
│ │ [15:30:45] Проверка контейнера...                                     │   │
│ │ [15:30:46] Проверка базы данных...                                    │   │
│ │ [15:30:46] Создание бэкапа: quiz-20240214-153045.db                   │   │
│ │ [15:30:47] ✓ Бэкап создан: quiz-20240214-153045.db (256.50 KB)       │   │
│ │ [15:30:47] Найдено бэкапов: 5                                         │   │
│ │                                                                        │   │
│ └───────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ [████████████████████████████████████████████████████████████]      Готов   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## Элементы интерфейса

### 1. Настройки Docker

- **Имя контейнера**: Имя Docker контейнера (по умолчанию: `homecenter`)
- **Путь к БД**: Путь к базе данных внутри контейнера (по умолчанию: `/app/data/quiz.db`)
- **Папка бэкапов**: Показывает где хранятся бэкапы (только для чтения)

### 2. Создание бэкапа

- **Кнопка "Создать бэкап"** (зелёная): Создаёт новый бэкап с текущей датой и временем
- Формат имени: `quiz-YYYYMMDD-HHMMSS.db`

### 3. Восстановление из бэкапа

- **Выпадающий список**: Показывает все доступные бэкапы
- **Кнопка "Восстановить"** (красная): Восстанавливает выбранный бэкап
- При восстановлении:
  1. Создаётся бэкап текущей базы
  2. Контейнер останавливается
  3. Бэкап копируется в контейнер
  4. Контейнер запускается обратно

### 4. Управление бэкапами

**Таблица бэкапов** показывает:
- Имя файла
- Размер
- Дата создания
- Возраст (сколько времени назад)

**Кнопки управления:**
- **Обновить**: Обновить список бэкапов
- **Удалить выбранный**: Удалить выбранный в таблице бэкап
- **Очистить старые**: Удалить все бэкапы старше 30 дней

### 5. Лог операций

Показывает все действия в реальном времени:
- Проверки
- Создание бэкапов
- Восстановление
- Ошибки

### 6. Строка состояния

- **Прогресс-бар**: Показывается во время длительных операций
- **Статус**: "Готов" (зелёный) или "Работаю..." (оранжевый)

## Цветовая схема

- 🟢 **Зелёный** - Создание бэкапа (безопасная операция)
- 🔴 **Красный** - Восстановление (опасная операция, требует подтверждения)
- 🟡 **Жёлтый** - Удаление (требует подтверждения)
- ⚪ **Серый** - Информация

## Диалоги подтверждения

### При восстановлении

```
┌─────────────────────────────────────────────┐
│ Подтверждение                         [X]   │
├─────────────────────────────────────────────┤
│                                             │
│  ⚠ ВНИМАНИЕ! Это заменит текущую базу      │
│     данных!                                 │
│                                             │
│  Будет восстановлен бэкап:                 │
│  quiz-20240214-120000.db                   │
│                                             │
│  Текущая база будет сохранена как          │
│  резервная копия.                           │
│                                             │
│  Продолжить?                                │
│                                             │
│         [ Да ]        [ Нет ]               │
│                                             │
└─────────────────────────────────────────────┘
```

### При удалении

```
┌─────────────────────────────────────────────┐
│ Подтверждение                         [X]   │
├─────────────────────────────────────────────┤
│                                             │
│  Удалить бэкап?                             │
│                                             │
│  quiz-20240214-120000.db                   │
│                                             │
│         [ Да ]        [ Нет ]               │
│                                             │
└─────────────────────────────────────────────┘
```

### При очистке старых

```
┌─────────────────────────────────────────────┐
│ Подтверждение                         [X]   │
├─────────────────────────────────────────────┤
│                                             │
│  Найдено 15 бэкапов старше 30 дней.        │
│                                             │
│  Удалить их?                                │
│                                             │
│         [ Да ]        [ Нет ]               │
│                                             │
└─────────────────────────────────────────────┘
```

## Сообщения об успехе

```
┌─────────────────────────────────────────────┐
│ Успех                                 [X]   │
├─────────────────────────────────────────────┤
│                                             │
│  ✓ Бэкап создан успешно!                   │
│                                             │
│  quiz-20240214-153045.db                   │
│                                             │
│                  [ OK ]                     │
│                                             │
└─────────────────────────────────────────────┘
```

## Сообщения об ошибках

```
┌─────────────────────────────────────────────┐
│ Ошибка                                [X]   │
├─────────────────────────────────────────────┤
│                                             │
│  ✗ Ошибка при создании бэкапа:             │
│                                             │
│  Контейнер 'homecenter' не запущен!        │
│                                             │
│                  [ OK ]                     │
│                                             │
└─────────────────────────────────────────────┘
```

## Горячие клавиши

- `F5` - Обновить список бэкапов (планируется)
- `Ctrl+B` - Создать бэкап (планируется)
- `Ctrl+R` - Восстановить (планируется)
- `Delete` - Удалить выбранный (планируется)

## Размеры окна

- **Минимальный размер**: 900x700 пикселей
- **По умолчанию**: 900x700 пикселей
- **Позиция**: Центр экрана при запуске
- **Изменение размера**: Разрешено
